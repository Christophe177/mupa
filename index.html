<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>mupa</title>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
  <!-- FORCE RELOAD VERSION: 2.22 (Final Fix) -->
  <script>
    // MUPA Nav Engine v3.1 - Absolute Reliability Mode
    (function () {
      function performJump(e) {
        const link = e.target.closest('a');
        if (!link || !link.hash || !link.hash.startsWith('#')) return;

        const targetId = link.hash.substring(1);
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          e.preventDefault();
          e.stopPropagation();

          const offset = 90;
          const top = targetElement.getBoundingClientRect().top + window.pageYOffset - offset;

          // Instant Jump - Best for mobile browsers
          window.scrollTo({ top: top, behavior: 'auto' });

          // Fallback jump if scrollTo fails
          setTimeout(function () {
            if (Math.abs(window.pageYOffset - (top)) > 10) {
              window.scrollTo(0, top);
            }
          }, 50);

          // Force close menu
          window.dispatchEvent(new CustomEvent('closeMobileMenu'));

          // Silent URL update
          history.pushState(null, null, link.hash);
        }
      }

      document.addEventListener('click', performJump, { capture: true, passive: false });
      document.addEventListener('touchstart', function (e) {
        if (e.target.closest('a')) {
          // Just ensure it's interactive
        }
      }, { passive: true });
    })();
  </script>
</body>

</html>